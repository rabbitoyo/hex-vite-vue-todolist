import{r,c as p,o as g,a as t,w as f,b as i,d as v,v as u,e as w,f as b,u as c,g as C}from"./index--ceUcoME.js";import{l as k}from"./api-Bn8Kxi9S.js";const x={id:"loginPage",class:"bg-yellow"},y={class:"conatiner loginPage vhContainer"},R={__name:"LoginView",setup(h){const d=c(),l=r(""),n=r(""),m=async()=>{try{const e=await k(l.value,n.value),{token:o,exp:a}=e.data;document.cookie=`vue3-todolist-token=${o}; expires=${a}`,alert("登入成功"),d.push("/todolist")}catch(e){alert(`發生錯誤: ${e.response.data.message}`)}};return(e,o)=>{const a=b("RouterLink");return g(),p("div",x,[t("div",y,[o[8]||(o[8]=t("div",{class:"side"},[t("a",{href:"#"},[t("img",{class:"logoImg",src:"https://raw.githubusercontent.com/hexschool/2022-web-layout-training/main/todolist/logo.png",alt:""})]),t("img",{class:"d-m-n",src:"https://raw.githubusercontent.com/hexschool/2022-web-layout-training/main/todolist/img.png",alt:"workImg"})],-1)),t("div",null,[t("form",{class:"formControls",onSubmit:o[2]||(o[2]=f((...s)=>e.handleRegister&&e.handleRegister(...s),["prevent"]))},[o[4]||(o[4]=t("h2",{class:"formControls_txt"},"最實用的線上代辦事項服務",-1)),o[5]||(o[5]=t("label",{class:"formControls_label",for:"email"},"Email",-1)),i(t("input",{class:"formControls_input",type:"text",id:"email",name:"email",placeholder:"請輸入 email","onUpdate:modelValue":o[0]||(o[0]=s=>l.value=s),required:""},null,512),[[u,l.value]]),o[6]||(o[6]=t("span",null,"此欄位不可留空",-1)),o[7]||(o[7]=t("label",{class:"formControls_label",for:"pwd"},"密碼",-1)),i(t("input",{class:"formControls_input",type:"password",name:"pwd",id:"pwd",placeholder:"請輸入密碼","onUpdate:modelValue":o[1]||(o[1]=s=>n.value=s),required:""},null,512),[[u,n.value]]),t("input",{class:"formControls_btnSubmit",type:"button",onClick:m,value:"登入"}),v(a,{class:"formControls_btnLink",to:"/register"},{default:w(()=>[...o[3]||(o[3]=[C("註冊帳號",-1)])]),_:1})],32)])])])}}};export{R as default};
